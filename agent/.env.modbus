# Agent configuration for local Modbus testing with K8s MQTT

# Enable Protocol Adapters (Modbus)
ENABLE_PROTOCOL_ADAPTERS=true
PROTOCOL_ADAPTERS_CONFIG={"adapters":[{"type":"modbus","enabled":true,"configFile":"src/adapters/modbus/config/windows.json"}]}

# Enable Sensor Publish (reads from modbus socket and publishes to MQTT)
ENABLE_SENSOR_PUBLISH=true
SENSOR_PUBLISH_CONFIG={"sensors":[{"name":"modbus-sensors","addr":"\\\\.\\pipe\\modbus-sensors","eomDelimiter":"\\n","mqttTopic":"iot/device/5c629f26-8495-4747-86e3-c2d98851aa62/sensor/modbus/data","bufferCapacity":8192}]}

# MQTT connection to K8s cluster
MQTT_BROKER=mqtt://localhost:31883
MQTT_USERNAME=device-5c629f26-8495-4747-86e3-c2d98851aa62
MQTT_PASSWORD=<YOUR_MQTT_PASSWORD>

# Device UUID
DEVICE_UUID=5c629f26-8495-4747-86e3-c2d98851aa62
